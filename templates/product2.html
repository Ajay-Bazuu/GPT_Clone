{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecommerce</title>
    <link href="{% static 'src/styles.css' %}" rel="stylesheet">

    <style>
        .right2 {
            display: none;
        }
    </style>
</head>

<body>
    <div class="flex h-screen">
        <div class="hidden h-full w-[290px] bg-gptgreen sm:hidden md:flex md:flex-col md:justify-end md:items-center lg:flex lg:flex-col lg:justify-end lg:items-center xl:flex xl:flex-col xl:justify-end xl:items-center">
            <div class="w-[230px] flex gap-3 items-center content-center absolute top-0 pl-5 pr-5 pt-2 pb-2 text-center m-4 hover:bg-gray-400 border-1 hover:rounded-lg hover:cursor-pointer">
                <div class="border-2 h-7 w-7 bg-white rounded-full flex justify-center items-center">
                    <img class="h-5 w-5" src="https://cdn-icons-png.flaticon.com/512/12222/12222589.png" alt="">
                </div>
                <div class="text-sm">New Chat</div>
                <div class="absolute right-2">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16.7929 2.79289C18.0118 1.57394 19.9882 1.57394 21.2071 2.79289C22.4261 4.01184 22.4261 5.98815 21.2071 7.20711L12.7071 15.7071C12.5196 15.8946 12.2652 16 12 16H9C8.44772 16 8 15.5523 8 15V12C8 11.7348 8.10536 11.4804 8.29289 11.2929L16.7929 2.79289ZM19.7929 4.20711C19.355 3.7692 18.645 3.7692 18.2071 4.2071L10 12.4142V14H11.5858L19.7929 5.79289C20.2308 5.35499 20.2308 4.64501 19.7929 4.20711ZM6 5C5.44772 5 5 5.44771 5 6V18C5 18.5523 5.44772 19 6 19H18C18.5523 19 19 18.5523 19 18V14C19 13.4477 19.4477 13 20 13C20.5523 13 21 13.4477 21 14V18C21 19.6569 19.6569 21 18 21H6C4.34315 21 3 19.6569 3 18V6C3 4.34314 4.34315 3 6 3H10C10.5523 3 11 3.44771 11 4C11 4.55228 10.5523 5 10 5H6Z" fill="currentColor"></path>
                    </svg>
                </div>
            </div>
            <div class="flex flex-col justify-end p-2">
                <p class="font-bold text-sm m-1">Sign up or Log in</p>
                <p class="m-1 text-gray-500 text-sm">Save your chat history, share chats, and personalize your experience.</p>
                <button class="bg-btn-green m-1 p-2 rounded-lg text-white hover:bg-btn-dark">Sign up</button>
                <button class="bg-white m-1 p-2 rounded-lg border border-gray-300 mb-4">Log in</button>
            </div>
        </div>
        <div class="right1 h-full w-10/12 bg-white flex flex-col items-center justify-end">
            <div class="border border-gray-300 h-12 w-12 rounded-full flex justify-center items-center mb-6">
                <img class="h-8 w-8" src="https://cdn-icons-png.flaticon.com/512/12222/12222589.png" alt="">
            </div>
            <div class="text-2xl font-semibold mb-10">How can I help you today?</div>
            <div class="container flex flex-wrap gap-2 justify-center content-center">
                <div class="h-16 border border-gray-300 w-[400px] rounded-lg flex flex-col justify-start px-2 py-2 hover:cursor-pointer">
                    <div class="font-semibold text-sm">Plan an itinerary</div>
                    <div class="text-gray-400">to experience the wildlife in the Australian outback</div>
                </div>
                <div class="h-16 border border-gray-300 w-[400px] rounded-lg flex flex-col justify-start px-2 py-2 hover:cursor-pointer">
                    <div class="font-semibold text-sm">Plan an itinerary</div>
                    <div class="text-gray-400">for a fashion-focused exploration of Paris</div>
                </div>
                <div class="h-16 border border-gray-300 w-[400px] rounded-lg flex flex-col justify-start px-2 py-2 hover:cursor-pointer">
                    <div class="font-semibold text-sm">Write a course overview</div>
                    <div class="text-gray-400">on the psychology behind decision-making</div>
                </div>
                <div class="h-16 border border-gray-300 w-[400px] rounded-lg flex flex-col justify-start px-2 py-2 hover:cursor-pointer">
                    <div class="font-semibold text-sm">Create a workout plan</div>
                    <div class="text-gray-400">for resistance training</div>
                </div>
            </div>
            <div class="input w-full text-center my-4 flex items-center justify-center relative">
                <textarea id="questionInput" class="resize-none w-[800px] border border-x-gray-300 py-4 px-4 rounded-xl focus:outline-none" type="text" placeholder="Message ChatGPT..." name="question"></textarea>
                <button id="sendButton1" class="bg-gray-300 rounded-lg h-8 w-8 absolute left-[900px] flex justify-center items-center">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="text-white dark:text-black">
                        <path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </button>
            </div>
            <div class="footer text-gray-400 text-sm my-2">ChatGPT can make mistakes. Consider checking important information. Read our <a class="underline" href="">Terms</a> and <a class="underline" href="">Privacy Policy</a></div>
        </div>
        <div class="right2 w-full flex flex-col items-center justify-center h-fit">
            <div class="box1 flex w-[50%] gap-5 justify-center items-center py-7 bg-white space-y-1">
                <img class="h-8 w-8 rounded-full" src="https://images.ctfassets.net/h6goo9gw1hh6/2sNZtFAWOdP1lmQ33VwRN3/24e953b920a9cd0ff2e1d587742a2472/1-intro-photo-final.jpg?w=1200&h=992&fl=progressive&q=70&fm=jpg" alt="">
                <div id="question1" class="">what is the national game of Nepal</div>
            </div>
            <div class="box1 flex w-[50%] gap-5 justify-center items-center py-7 bg-white space-y-1">
                <img class="h-8 w-8 rounded-full" src="https://images.ctfassets.net/h6goo9gw1hh6/2sNZtFAWOdP1lmQ33VwRN3/24e953b920a9cd0ff2e1d587742a2472/1-intro-photo-final.jpg?w=1200&h=992&fl=progressive&q=70&fm=jpg" alt="">
                <div id="question2" class="">what is the national game of Australia</div>
            </div>
            <div class="input w-full text-center my-4 flex items-center justify-center relative">
                <textarea class="resize-none w-[800px] border border-x-gray-300 py-4 px-4 rounded-xl focus:outline-none" type="text" placeholder="Message ChatGPT..."></textarea>
                <button id="sendButton2" class="bg-gray-300 rounded-lg h-8 w-8 absolute left-[900px] flex justify-center items-center">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="text-white dark:text-black">
                        <path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var sendButton1 = document.getElementById('sendButton1');
            var sendButton2 = document.getElementById('sendButton2');

            var question1 = document.getElementById('question1');
            var question2 = document.getElementById('question2');

            sendButton1.addEventListener('click', async function() {
                var questionText = question1.innerText;
                document.querySelector('.right1').style.display = 'none';
                document.querySelector('.right2').style.display = 'block';
                question1.innerHTML = questionInput;
    question2.innerHTML = questionInput;

    const url = 'http://127.0.0.1:8000/product/';
    const data = {
        questionInput: questionInput
    };

    try {
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });
        // Handle response if needed
    } catch (error) {
        console.error('Error:', error);
        // Handle error
    }
            });

            sendButton2.addEventListener('click', async function() {
                var questionText = question2.innerText;
                question1.innerHTML = questionInput;
    question2.innerHTML = questionInput;

    const url = 'http://127.0.0.1:8000/product/';
    const data = {
        questionInput: questionInput
    };

    try {
        const response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });
        // Handle response if needed
    } catch (error) {
        console.error('Error:', error);
        // Handle error
    }
                
            });
        });
    </script>

</body>

</html>
